# ‚òÅÔ∏è –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ RentAdmin –Ω–∞ cloud.ru

–ì–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è RentAdmin –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ cloud.ru —Å –¥–æ—Å—Ç—É–ø–æ–º –ø–æ HTTP –ø–æ IP –∞–¥—Ä–µ—Å—É.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ cloud.ru –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
sudo ./deploy-cloud-http.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–ª—å—Ç—Ä–∞-–±—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
# –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (5 –º–∏–Ω—É—Ç):
sudo ./quick-deploy-cloud.sh
```

## üìã –ß—Ç–æ –¥–µ–ª–∞—é—Ç —Å–∫—Ä–∏–ø—Ç—ã:

### `deploy-cloud-http.sh` - –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã (nginx, nodejs, npm, sqlite3)
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ñ–∞–π—Ä–≤–æ–ª (–ø–æ—Ä—Ç—ã 22, 80)
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `rentadmin`
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º API URL
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç –±—ç–∫–µ–Ω–¥ —Å SQLite –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è API
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç systemd —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

### `quick-deploy-cloud.sh` - –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- ‚ö° –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 3-5 –º–∏–Ω—É—Ç
- ‚ö° –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚ö° –ü—Ä–æ—Å—Ç–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª—é–±–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞:

```
üåç –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://–í–ê–®_IP_–°–ï–†–í–ï–†–ê/
üéØ Backend API:   http://–í–ê–®_IP_–°–ï–†–í–ï–†–ê/api
üè• Health check:  http://–í–ê–®_IP_–°–ï–†–í–ï–†–ê/health
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ:
- **OS**: Ubuntu 20.04+ / Debian 11+
- **RAM**: 1 GB
- **CPU**: 1 vCPU
- **–î–∏—Å–∫**: 10 GB
- **–ü—Ä–∞–≤–∞**: sudo –¥–æ—Å—Ç—É–ø

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ:
- **RAM**: 2 GB+
- **CPU**: 2 vCPU+
- **–î–∏—Å–∫**: 20 GB+

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
sudo systemctl status rentadmin
sudo systemctl status nginx
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
sudo systemctl restart rentadmin
sudo systemctl restart nginx
```

### –õ–æ–≥–∏
```bash
# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo journalctl -u rentadmin -f

# –õ–æ–≥–∏ nginx
sudo tail -f /var/log/nginx/access.log
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo systemctl stop rentadmin

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ (git pull –∏–ª–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤)
# –°–±–æ—Ä–∫–∞
cd /opt/rentadmin/backend && sudo -u rentadmin npm run build
cd /opt/rentadmin/frontend && sudo -u rentadmin npm run build
sudo cp -r /opt/rentadmin/frontend/dist/* /var/www/html/rentadmin/

# –ó–∞–ø—É—Å–∫
sudo systemctl start rentadmin
```

## üåê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
–ò–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Üí nginx (–ø–æ—Ä—Ç 80) ‚îå‚îÄ‚Üí –§—Ä–æ–Ω—Ç–µ–Ω–¥ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã)
                           ‚îî‚îÄ‚Üí /api/* ‚Üí Backend (–ø–æ—Ä—Ç 3001) ‚Üí SQLite
```

### –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
- **nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ reverse proxy
- **Frontend** - React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã)
- **Backend** - Node.js API —Å–µ—Ä–≤–µ—Ä
- **Database** - SQLite (—Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)
- **systemd** - –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ä—ã:
- ‚úÖ –§–∞–π—Ä–≤–æ–ª UFW (—Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç—ã 22, 80)
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ nginx
- ‚úÖ –°–∫—Ä—ã—Ç–∏–µ —Å–ª—É–∂–µ–±–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
```bash
# –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è root
sudo passwd

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π
ssh-keygen -t rsa -b 4096

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ password –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo sed -i 's/#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config
sudo systemctl restart ssh
```

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
sudo journalctl -u rentadmin -n 50

# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
cd /opt/rentadmin/backend
sudo -u rentadmin npm start
```

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ nginx
sudo nginx -t
sudo systemctl restart nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤
ls -la /var/www/html/rentadmin/
```

### API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞
curl http://localhost:3001/api/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∫—Å–∏
curl http://localhost/api/health
```

## üìû –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

### –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```bash
# –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
uname -a
cat /etc/os-release

# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl status rentadmin nginx

# –õ–æ–≥–∏
sudo journalctl -u rentadmin -n 20
sudo tail -20 /var/log/nginx/error.log

# –°–µ—Ç–µ–≤—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
sudo netstat -tlnp | grep -E ':80|:3001'

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
free -h
df -h
```

## ‚úÖ Checklist –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ `http://–í–ê–®_IP/`
- [ ] API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `http://–í–ê–®_IP/api/health`
- [ ] –°–µ—Ä–≤–∏—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è: `sudo systemctl is-enabled rentadmin nginx`
- [ ] –§–∞–π—Ä–≤–æ–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω: `sudo ufw status`
- [ ] –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è: `sudo journalctl -u rentadmin -n 5`

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ RentAdmin –±—É–¥–µ—Ç:
- üåç –î–æ—Å—Ç—É–ø–Ω–æ –ø–æ IP –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–∞
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
- üìä –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚ö° –†–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤ production —Ä–µ–∂–∏–º–µ

**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å —É—Å–ø–µ—à–Ω—ã–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º!** üöÄ